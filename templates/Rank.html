{% extends "Main.html" %} {% block title %}í™ˆ - ê³µë¶€ì§±{% endblock %} {% block
content %}

<!-- ë­í‚¹ ì˜ì—­ -->
<div class="box">
  <div class="columns is-mobile is-vcentered mb-3">
    <div class="column has-text-left">
      <b class="is-size-3">ì´ ì£¼ì˜ ê³µë¶€ì§±ë“¤âœ</b>
    </div>
    <div class="column has-text-right">
      <span class="is-size-5">ë§¤ ì£¼ ì›”ìš”ì¼ <strong>ìˆœìœ„</strong>ğŸ† ì´ˆê¸°í™”</span>
    </div>
  </div>
  <hr />

  <div class="ranking-box content">
    <ol>
      {% if rankings %} {% for user in rankings %}
      <div class="columns is-mobile is-vcentered is-gapless">
        <div class="column is-narrow" style="width: 2em; text-align: center">
          {% if loop.index == 1%} ğŸ¥‡ {%elif loop.index == 2%} ğŸ¥ˆ {%elif
          loop.index == 3%} ğŸ¥‰ {%else%}ã€€{%endif%}
        </div>
        <div class="column is-narrow">{{ loop.index }}ìœ„</div>
        ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
        <div class="column is-two-third has-text-weight-semibold">
          {{ user.username }} {# ë™ì¼í•œ usernameì„ ê°€ì§„ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ìˆëŠ”ì§€ ê²€ì‚¬ #}
          {% set dup = namespace(value=false) %}
          {% for other in rankings %}
            {% if other.username == user.username and other.userid != user.userid %}
              {% set dup.value = true %}
            {% endif %}
          {% endfor %}
          {% if dup.value %}
            ({{ user.userid }})
          {% endif %}
        </div>
        <div class="column">
          {{ user.hours }}ì‹œê°„ {{ user.minutes }}ë¶„ {{ user.seconds }}ì´ˆ
        </div>
      </div>

      {% endfor %} {% else %}
      <p>ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</p>
      {% endif %}
    </ol>
  </div>
</div>

<!-- ì…ì‹¤ / í‡´ì‹¤ ë²„íŠ¼ -->
<form method="post" action="/check_in_out">
  <div class="columns mt-4">
    <div class="column">
      <button
        class="button is-dark is-fullwidth"
        type="submit"
        name="action"
        value="checkin"
        {%
        if
        not
        can_checkin
        %}disabled{%
        endif
        %}
      >
        ì…ì‹¤
      </button>
    </div>
    <div class="column">
      <button
        class="button is-dark is-fullwidth"
        type="submit"
        name="action"
        value="checkout"
        {%
        if
        not
        can_checkout
        %}disabled{%
        endif
        %}
      >
        í‡´ì‹¤
      </button>
    </div>
  </div>
</form>
<div class="columns is-mobile is-vcentered mt-3">
  {% if not is_logged_in %}
  <div class="column has-text-left">
    <span class="has-text-info">ì…ì‹¤ í‡´ì‹¤ì„ ìœ„í•´ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</span>
  </div>
  {% endif %}

  <div class="column has-text-right">
    <span class="has-text-danger"
      >ë§¤ì¼ ìì •, ì…ì‹¤ì‹œê°„ì´ ì´ˆê¸°í™”ë˜ë‹ˆ <strong>ìì • ì „ì— í‡´ì‹¤</strong>ğŸ™ì„ ê¼­
      í•´ì£¼ì„¸ìš”!</span
    >
  </div>
</div>
{% endblock %}
